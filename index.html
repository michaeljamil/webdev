<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title> Attendance System </title>
    <link rel="stylesheet" type ="text/css" href='css/style.css'>
</head>
<body class="adminlogin">
    <div class="container">
        <span></span>
        <span></span>
        <span></span>
        <form action="admin_login.php" method="post" id="signinForm">
                    <h2>Admin Login</h2>
                    <div class="inputBox">
                        <input type="text" name="user_name" placeholder="Username" required>
                    </div>
                    <div class="inputBox">
                        <input type="password" name="password" placeholder="Password" required>
                    </div>
                    <div class="inputBox group">
                        <a href="#" id="signup">Sign Up</a>
                    </div>
                    <div class="inputBox">
                            <input type="submit" name="submit" value="Sign In">
                    </div>
                    <div class="inputBox group">
                        <b>An Employee?&nbsp</b><a href="#" id="employeeLogin"> Employee Login </a>
                    </div>
            </form>

        <form action="employee_login.php" method="post" id="employeeForm">
            <h2>Employee Login</h2>
            <div class="inputBox">
                <input type="text" name="user_name" placeholder="Username" required>
            </div>
            <div class="inputBox">
                <input type="password" name="password" placeholder="Password" required>
            </div>
            <div class="inputBox group">
                <a href="#" id="signup">Sign Up</a>
            </div>
            <div class="inputBox">
                <input type="submit" name="submit" value="Sign In">
            </div>
            <div class="inputBox group">
                <a href="#"> An Admin? <b id="signup"><u> Admin Login</u></b></a>
            </div>
        </form>
        
        <form action="insert.php" method="post" id="signupForm" onsubmit="return validateForm()">
            <h2>Registration</h2>
            <div class="inputBox">
                <input type="text" name="user_name" id="user_name" placeholder="Username" required>
            </div>
            <div class="inputBox">
                <input type="password" name="password" id="password" placeholder="Create Password" required>
            </div>
            <div class="inputBox">
                <input type="password" name="confirm_password" id="confirm_password" placeholder="Confirm Password" onkeyup="validatePassword()" required>
            </div>
            <div class="inputBox">
                <input type="email" name="email" id="email" placeholder="Email Address">
            </div>
            <div class="inputBox">
                <label for="role">Select Role:</label>
                <select name="role" id="role" required>
                    <option value="employees">Employee</option>
                    <option value="admin">Admin</option>
                </select>
            </div>
            <div class="inputBox">
                <input type="submit" name="submit" value="Register Account">
            </div>
            <div class="inputBox group">
                <a href="#">Already Have an Account? <b id="signin">Login</b></a>
            </div>
        </form>
        

        <!-- For Login Pop up -->
        
        <div id="loginModal" class="modal">
            <div class="modal-content">
                <div class="modal-header">
                    <button class="close" aria-label="Close">&times;</button>
                    <h3>Login Failed</h3>
                </div>
                <div class="modal-body">
                    <p id="modalMessage">Invalid username or password</p>
                </div>
                
            </div>
        </div>




    </div>
    <script>
        let signup = document.querySelector('#signup');
        let signin = document.querySelector('#signin');
        let employeeLogin = document.querySelector('#employeeLogin');
        let body = document.querySelector('body');
        signup.onclick = function () {
        body.classList.add('signup');
        body.classList.remove('employeeLogin'); 
        }

        signin.onclick = function () {
            body.classList.remove('signup');
            body.classList.remove('employeeLogin');
        }

        employeeLogin.onclick = function () {
            body.classList.add('employeeLogin');
        }

        let employeeSignup = document.querySelector('#employeeForm #signup');
        employeeSignup.addEventListener('click', function () {
            body.classList.remove('employeeLogin');
            body.classList.add('signup');
        });

        let employeeAdminLogin = document.querySelector('#employeeForm #signup u');
        employeeAdminLogin.addEventListener('click', function () {
            body.classList.remove('employeeLogin');
            body.classList.remove('signup');
        });

        function validatePassword() {
            var password = document.getElementById("password");
            var confirm_password = document.getElementsByName("confirm_password")[0];

            if (password.value !== confirm_password.value) {
                confirm_password.setCustomValidity("Passwords do not match");
            } else {
                confirm_password.setCustomValidity('');
            }
        }

        function validateForm() {
            var password = document.getElementById("password");
            var confirm_password = document.getElementsByName("confirm_password")[0];

            if (password.value !== confirm_password.value) {
                confirm_password.setCustomValidity("Passwords do not match");
                return false; // Prevent form submission
            } else {
                confirm_password.setCustomValidity('');
                return true; // Allow form submission
            }
        }

        // JavaScript to display/hide modal
        // Function to display the modal with a message
        function displayModal(message) {
            var modal = document.getElementById("loginModal");
            var modalMessage = document.getElementById("modalMessage");
            modalMessage.innerHTML = message; // Set the message

            // Display the modal
            modal.style.display = "block";

            // Get the <span> element that closes the modal
            var closeBtn = document.getElementsByClassName("close")[0];

            // When the user clicks on (x), close the modal
            closeBtn.onclick = function () {
                modal.style.display = "none";
            };

            // When the user clicks anywhere outside of the modal, close it
            window.onclick = function (event) {
                if (event.target == modal) {
                    modal.style.display = "none";
                }
            };
        }

        


    </script>
</body>
</html>
